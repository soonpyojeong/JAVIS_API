{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      thresholds: [],\n      searchQuery: \"\",\n      sortBy: \"\",\n      sortOrder: \"asc\",\n      showAddForm: false,\n      // 등록 폼 표시 여부\n      newThreshold: {\n        dbName: \"\",\n        tablespaceName: \"\",\n        thresMb: null,\n        dbType: \"\"\n      }\n    };\n  },\n  computed: {\n    filteredData() {\n      const query = this.searchQuery.toLowerCase();\n      const filtered = this.thresholds.filter(threshold => {\n        return threshold.dbName.toLowerCase().includes(query) || threshold.tablespaceName.toLowerCase().includes(query);\n      });\n      return this.sortDataBy(filtered);\n    }\n  },\n  methods: {\n    addThreshold() {\n      axios.post(\"http://10.90.4.60:8080/api/threshold\", this.newThreshold).then(response => {\n        if (response.data) {\n          // 데이터 등록 후 테이블 갱신\n          this.thresholds.push(response.data);\n          this.newThreshold = {\n            dbName: \"\",\n            tablespaceName: \"\",\n            thresMb: null,\n            dbType: \"\"\n          };\n          this.showAddForm = false;\n        } else {\n          console.error(\"등록 실패\");\n        }\n      }).catch(error => {\n        console.error(\"등록 오류:\", error);\n      });\n    }\n    // 기타 메서드 (생략)\n  },\n  mounted() {\n    axios.get(\"http://10.90.4.60:8080/api/threshold/all\").then(response => {\n      this.thresholds = response.data.map(threshold => ({\n        ...threshold,\n        isEditing: false,\n        editedValue: null\n      }));\n    }).catch(error => {\n      console.error(\"API 호출 오류:\", error);\n    });\n  }\n};","map":{"version":3,"names":["axios","data","thresholds","searchQuery","sortBy","sortOrder","showAddForm","newThreshold","dbName","tablespaceName","thresMb","dbType","computed","filteredData","query","toLowerCase","filtered","filter","threshold","includes","sortDataBy","methods","addThreshold","post","then","response","push","console","error","catch","mounted","get","map","isEditing","editedValue"],"sources":["D:\\JAVIS\\dongkukDBmon\\dongkukDBmon\\frontend\\src\\components\\ThresholdList.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>임계치 리스트</h2>\r\n\r\n    <!-- 검색 입력 필드 -->\r\n    <input\r\n      v-model=\"searchQuery\"\r\n      type=\"text\"\r\n      placeholder=\"DB 이름 또는 Tablespace 검색\"\r\n      style=\"margin-bottom: 10px; padding: 5px; width: 300px;\"\r\n    />\r\n\r\n    <!-- 등록 버튼 -->\r\n    <button @click=\"showAddForm = !showAddForm\" style=\"margin-bottom: 10px; padding: 5px;\">\r\n      {{ showAddForm ? \"등록 취소\" : \"등록\" }}\r\n    </button>\r\n\r\n    <!-- 등록 폼 -->\r\n    <div v-if=\"showAddForm\" style=\"margin-bottom: 20px;\">\r\n      <input v-model=\"newThreshold.dbName\" placeholder=\"DB 이름\" style=\"margin-right: 10px; padding: 5px;\" />\r\n      <input v-model=\"newThreshold.tablespaceName\" placeholder=\"Tablespace 이름\" style=\"margin-right: 10px; padding: 5px;\" />\r\n      <input v-model=\"newThreshold.thresMb\" type=\"number\" placeholder=\"임계치 (MB)\" style=\"margin-right: 10px; padding: 5px;\" />\r\n      <input v-model=\"newThreshold.dbType\" placeholder=\"DB 타입\" style=\"margin-right: 10px; padding: 5px;\" />\r\n      <button @click=\"addThreshold\" style=\"padding: 5px;\">등록</button>\r\n    </div>\r\n\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th @click=\"sortData('dbName')\">DB 이름</th>\r\n          <th @click=\"sortData('tablespaceName')\">Tablespace</th>\r\n          <th @click=\"sortData('thresMb')\">임계치 (MB)</th>\r\n          <th @click=\"sortData('dbType')\">DB 타입</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(threshold, index) in filteredData\" :key=\"index\">\r\n          <td>{{ threshold.dbName }}</td>\r\n          <td>{{ threshold.tablespaceName }}</td>\r\n          <td>\r\n            <span\r\n              v-if=\"!threshold.isEditing\"\r\n              @click=\"startEditing(threshold)\"\r\n              style=\"cursor: pointer;\"\r\n            >\r\n              {{ threshold.thresMb }}\r\n            </span>\r\n            <input\r\n              v-else\r\n              v-model=\"threshold.editedValue\"\r\n              @keyup.enter=\"updateThreshold(threshold)\"\r\n              @blur=\"cancelEditing(threshold)\"\r\n              type=\"number\"\r\n              style=\"width: 80px;\"\r\n            />\r\n          </td>\r\n          <td>{{ threshold.dbType }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <p v-if=\"filteredData.length === 0\">검색 결과가 없습니다.</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      thresholds: [],\r\n      searchQuery: \"\",\r\n      sortBy: \"\",\r\n      sortOrder: \"asc\",\r\n      showAddForm: false, // 등록 폼 표시 여부\r\n      newThreshold: {\r\n        dbName: \"\",\r\n        tablespaceName: \"\",\r\n        thresMb: null,\r\n        dbType: \"\",\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    filteredData() {\r\n      const query = this.searchQuery.toLowerCase();\r\n      const filtered = this.thresholds.filter((threshold) => {\r\n        return (\r\n          threshold.dbName.toLowerCase().includes(query) ||\r\n          threshold.tablespaceName.toLowerCase().includes(query)\r\n        );\r\n      });\r\n      return this.sortDataBy(filtered);\r\n    },\r\n  },\r\n  methods: {\r\n    addThreshold() {\r\n      axios\r\n        .post(\"http://10.90.4.60:8080/api/threshold\", this.newThreshold)\r\n        .then((response) => {\r\n          if (response.data) {\r\n            // 데이터 등록 후 테이블 갱신\r\n            this.thresholds.push(response.data);\r\n            this.newThreshold = { dbName: \"\", tablespaceName: \"\", thresMb: null, dbType: \"\" };\r\n            this.showAddForm = false;\r\n          } else {\r\n            console.error(\"등록 실패\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"등록 오류:\", error);\r\n        });\r\n    },\r\n    // 기타 메서드 (생략)\r\n  },\r\n  mounted() {\r\n    axios\r\n      .get(\"http://10.90.4.60:8080/api/threshold/all\")\r\n      .then((response) => {\r\n        this.thresholds = response.data.map((threshold) => ({\r\n          ...threshold,\r\n          isEditing: false,\r\n          editedValue: null,\r\n        }));\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"API 호출 오류:\", error);\r\n      });\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";;;;AAkEA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE,EAAE;MACdC,WAAW,EAAE,EAAE;MACfC,MAAM,EAAE,EAAE;MACVC,SAAS,EAAE,KAAK;MAChBC,WAAW,EAAE,KAAK;MAAE;MACpBC,YAAY,EAAE;QACZC,MAAM,EAAE,EAAE;QACVC,cAAc,EAAE,EAAE;QAClBC,OAAO,EAAE,IAAI;QACbC,MAAM,EAAE;MACV;IACF,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,YAAYA,CAAA,EAAG;MACb,MAAMC,KAAI,GAAI,IAAI,CAACX,WAAW,CAACY,WAAW,CAAC,CAAC;MAC5C,MAAMC,QAAO,GAAI,IAAI,CAACd,UAAU,CAACe,MAAM,CAAEC,SAAS,IAAK;QACrD,OACEA,SAAS,CAACV,MAAM,CAACO,WAAW,CAAC,CAAC,CAACI,QAAQ,CAACL,KAAK,KAC7CI,SAAS,CAACT,cAAc,CAACM,WAAW,CAAC,CAAC,CAACI,QAAQ,CAACL,KAAK;MAEzD,CAAC,CAAC;MACF,OAAO,IAAI,CAACM,UAAU,CAACJ,QAAQ,CAAC;IAClC;EACF,CAAC;EACDK,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MACbtB,KAAI,CACDuB,IAAI,CAAC,sCAAsC,EAAE,IAAI,CAAChB,YAAY,EAC9DiB,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAIA,QAAQ,CAACxB,IAAI,EAAE;UACjB;UACA,IAAI,CAACC,UAAU,CAACwB,IAAI,CAACD,QAAQ,CAACxB,IAAI,CAAC;UACnC,IAAI,CAACM,YAAW,GAAI;YAAEC,MAAM,EAAE,EAAE;YAAEC,cAAc,EAAE,EAAE;YAAEC,OAAO,EAAE,IAAI;YAAEC,MAAM,EAAE;UAAG,CAAC;UACjF,IAAI,CAACL,WAAU,GAAI,KAAK;QAC1B,OAAO;UACLqB,OAAO,CAACC,KAAK,CAAC,OAAO,CAAC;QACxB;MACF,CAAC,EACAC,KAAK,CAAED,KAAK,IAAK;QAChBD,OAAO,CAACC,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;MAChC,CAAC,CAAC;IACN;IACA;EACF,CAAC;EACDE,OAAOA,CAAA,EAAG;IACR9B,KAAI,CACD+B,GAAG,CAAC,0CAA0C,EAC9CP,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAI,CAACvB,UAAS,GAAIuB,QAAQ,CAACxB,IAAI,CAAC+B,GAAG,CAAEd,SAAS,KAAM;QAClD,GAAGA,SAAS;QACZe,SAAS,EAAE,KAAK;QAChBC,WAAW,EAAE;MACf,CAAC,CAAC,CAAC;IACL,CAAC,EACAL,KAAK,CAAED,KAAK,IAAK;MAChBD,OAAO,CAACC,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;IACpC,CAAC,CAAC;EACN;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}